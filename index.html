<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tower Defense - Mini</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="page">
      <header class="topbar">
        <div class="brand">
          <div class="logo">TD</div>
          <div>
            <div class="title">Tower Defense</div>
            <div class="subtitle">Ein einfaches Tower Defense Spiel</div>
          </div>
        </div>
        <div class="stats">
          <div class="stat">
            <span>Geld</span>
            <strong id="money">0</strong>
          </div>
          <div class="stat">
            <span>Leben</span>
            <strong id="lives">0</strong>
          </div>
          <div class="stat">
            <span>Welle</span>
            <strong id="wave">0</strong>
          </div>
          <div class="stat">
            <span>Tempo</span>
            <strong id="speed">1x</strong>
          </div>
        </div>
        <div class="controls">
          <button id="startWave">Welle starten</button>
          <button id="autoWave">Auto-Welle: Aus</button>
          <button id="toggleSpeed">Schneller</button>
          <button id="pause">Pause</button>
        </div>
      </header>

      <main class="content">
        <section class="board">
          <canvas id="game" width="768" height="512"></canvas>
          <div class="legend">
            <div class="legend-item">
              <span class="swatch path"></span> Pfad
            </div>
            <div class="legend-item">
              <span class="swatch grass"></span> Baufläche
            </div>
          </div>
        </section>

        <aside class="panel">
          <div class="panel-block">
            <h3>Tower bauen</h3>
            <p class="hint">Wähle einen Tower und klicke auf eine freie Fläche.</p>
            <div class="tower-list">
              <button class="tower-btn" data-tower="gun">
                <span class="tower-name">Kanone</span>
                <span class="tower-cost">80</span>
              </button>
              <button class="tower-btn" data-tower="rapid">
                <span class="tower-name">Schnellfeuer</span>
                <span class="tower-cost">95</span>
              </button>
              <button class="tower-btn" data-tower="sniper">
                <span class="tower-name">Scharfschuetze</span>
                <span class="tower-cost">170</span>
              </button>
              <button class="tower-btn" data-tower="slow">
                <span class="tower-name">Frost</span>
                <span class="tower-cost">110</span>
              </button>
              <button class="tower-btn" data-tower="splash">
                <span class="tower-name">Splitter</span>
                <span class="tower-cost">140</span>
              </button>
              <button class="tower-btn" data-tower="mortar">
                <span class="tower-name">Moerser</span>
                <span class="tower-cost">210</span>
              </button>
            </div>
          </div>

          <div class="panel-block">
            <h3>Auswahl</h3>
            <div id="selection" class="selection">
              <p>Kein Tower ausgewählt.</p>
            </div>
            <div class="selection-actions">
              <button id="upgrade" disabled>Upgrade</button>
              <button id="sell" disabled>Verkaufen</button>
            </div>
          </div>

          <div class="panel-block">
            <h3>Nächste Welle</h3>
            <div id="wavePreview" class="wave-preview">Bereit.</div>
          </div>

          <div class="panel-block">
            <h3>Tipps</h3>
            <ul class="tips">
              <li>Frost-Tower verlangsamen Gegner dauerhaft.</li>
              <li>Scharfschuetzen treffen aus sehr grosser Reichweite.</li>
              <li>Splitter-Tower machen Flächenschaden.</li>
              <li>Upgrades erhöhen Reichweite und Schaden.</li>
            </ul>
          </div>
          <div class="panel-block">
            <h3>Admin</h3>
            <p class="hint">Zugang nur mit Spezial-Login.</p>
            <div class="admin-status" id="adminStatus">Admin: Aus</div>
            <div class="admin-actions" id="adminActions">
              <button id="adminLogin">Admin Login</button>
              <button id="adminPanelOpen" disabled>Admin GUI oeffnen</button>
            </div>
          </div>
        </aside>
      </main>

      <footer class="footer">
        <span>Links: platzieren</span>
        <span>Rechts: abwählen</span>
        <span>Shift: Reichweite anzeigen</span>
      </footer>
    </div>

    
    <div class="modal" id="adminModal" aria-hidden="true">
      <div class="modal-backdrop" id="adminBackdrop"></div>
      <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="adminTitle">
        <h3 id="adminTitle">Admin Login</h3>
        <label class="modal-label" for="adminName">Name</label>
        <input id="adminName" type="text" autocomplete="username" />
        <label class="modal-label" for="adminPassword">Passwort</label>
        <input id="adminPassword" type="password" autocomplete="current-password" />
        <div class="modal-error" id="adminError"></div>
        <div class="modal-actions">
          <button id="adminSubmit">Einloggen</button>
          <button id="adminCancel">Abbrechen</button>
        </div>
      </div>
    </div>

    <div class="modal" id="adminPanel" aria-hidden="true">
      <div class="modal-backdrop" id="adminPanelBackdrop"></div>
      <div class="modal-card admin-panel-card" role="dialog" aria-modal="true" aria-labelledby="adminPanelTitle">
        <div class="admin-panel-header">
          <h3 id="adminPanelTitle">Admin GUI</h3>
          <button id="adminPanelClose">Schliessen</button>
        </div>
        <div class="admin-grid">
          <div class="admin-group">
            <h4>Economy</h4>
            <div class="admin-row">
              <label for="adminMoneyInput">Geld</label>
              <input id="adminMoneyInput" type="number" min="0" step="50" />
              <button id="adminSetMoney">Setzen</button>
            </div>
            <button id="adminGiveMoney">+1000 Geld</button>
            <label class="admin-toggle">
              <input type="checkbox" id="adminInfiniteMoney" />
              Unendlich Geld
            </label>
          </div>
          <div class="admin-group">
            <h4>Basis</h4>
            <div class="admin-row">
              <label for="adminLivesInput">Leben</label>
              <input id="adminLivesInput" type="number" min="0" step="1" />
              <button id="adminSetLives">Setzen</button>
            </div>
            <button id="adminGiveLives">+10 Leben</button>
            <label class="admin-toggle">
              <input type="checkbox" id="adminInfiniteLives" />
              Unverwundbar
            </label>
          </div>
          <div class="admin-group">
            <h4>Wellen</h4>
            <div class="admin-row">
              <label for="adminWaveInput">Welle</label>
              <input id="adminWaveInput" type="number" min="0" step="1" />
              <button id="adminSetWave">Setzen</button>
            </div>
            <button id="adminSkipWave">Welle ueberspringen</button>
            <button id="adminSpawnBoss">Boss spawnen</button>
            <button id="adminClearEnemies">Gegner loeschen</button>
          </div>
          <div class="admin-group">
            <h4>Cheats</h4>
            <label class="admin-toggle">
              <input type="checkbox" id="adminFreeBuild" />
              Gratis bauen
            </label>
            <label class="admin-toggle">
              <input type="checkbox" id="adminFreezeEnemies" />
              Gegner einfrieren
            </label>
            <div class="admin-row">
              <label for="adminDamageBoost">Tower Schaden</label>
              <input id="adminDamageBoost" type="range" min="1" max="4" step="0.5" />
              <span id="adminDamageValue">x1.0</span>
            </div>
            <div class="admin-row">
              <label for="adminSpeedControl">Tempo</label>
              <input id="adminSpeedControl" type="range" min="0.5" max="3" step="0.5" />
              <span id="adminSpeedValue">x1.0</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src='js/constants.js'></script>
    <script src="js/utils.js"></script>
    <script src="js/state.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/towers.js"></script>
    <script src="js/waves.js"></script>
    <script src="js/combat.js"></script>
    <script src="js/render.js"></script>
    <script src="js/game.js"></script>
    <script src="js/input.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>



